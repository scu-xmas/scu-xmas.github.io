function LottieScrollTrigger(e){let t={frame:0},r=gsap.utils.toArray(e.target)[0],a={slow:"+=2000",medium:"+=1000",fast:"+=500"},o={trigger:r,pin:!0,start:"top top",end:a[e.speed]||"+=1000",scrub:1},n=lottie.loadAnimation({container:r,renderer:e.renderer||"svg",loop:!1,autoplay:!1,path:e.path});for(let t in e)o[t]=e[t];return n.addEventListener("DOMLoaded",function(){gsap.to(t,{duration:e.duration||.5,delay:e.delay||0,frame:n.totalFrames-1,ease:e.ease||"power2.inOut",onUpdate:()=>n.goToAndStop(t.frame,!0),scrollTrigger:o}),ScrollTrigger.sort(),ScrollTrigger.refresh()}),n}function animateFrom(e,t){t=t||1;var r=0,a=300*t;e.classList.contains(".reveal-a")?(r=20,a=0):e.classList.contains(".reveal-b")&&(r=-40,a=0),e.style.transform="translate("+r+"px, "+a+"px)",e.style.opacity="0",gsap.fromTo(e,{x:r,y:a,autoAlpha:0},{duration:3,x:0,y:0,autoAlpha:1,ease:"power2.inOut",overwrite:"auto",stagger:3})}function hide(e){gsap.set(e,{autoAlpha:0})}function checkScroll(){for(var e=0;e<videos.length;e++){var t,r,a,o,n,i,s=videos[e],l=0,c=0,g=s.width,p=s.height;for(i=s;i&&i!==document.body;)l+=i.offsetLeft,c+=i.offsetTop,i=i.offsetParent;t=l+parseInt(g),r=c+parseInt(p),a=Math.max(0,Math.min(g,window.pageXOffset+window.innerWidth-l,t-window.pageXOffset)),o=Math.max(0,Math.min(p,window.pageYOffset+window.innerHeight-c,r-window.pageYOffset)),n=a*o/(g*p),n>fraction?playVideo():pauseVideo()}}function onYouTubeIframeAPIReady(){player=new YT.Player("player",{events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function onPlayerReady(e){window.addEventListener("scroll",checkScroll,!1),window.addEventListener("resize",checkScroll,!1),window.addEventListener("load",checkScroll,!1)}function onPlayerStateChange(e){e.data,YT.PlayerState.PLAYING}function stopVideo(){player.stopVideo()}function playVideo(){player.playVideo()}function pauseVideo(){player.pauseVideo()}gsap.registerPlugin(ScrollTrigger),gsap.utils.toArray(".panel").forEach((e,t)=>{ScrollTrigger.create({trigger:e,start:"top top",pinSpacing:!1})});let arrow=document.querySelector(".arrow");arrow&&gsap.to(arrow,{y:12,ease:"power1.inOut",repeat:-1,yoyo:!0}),LottieScrollTrigger({target:"#animation",path:"assets/img/TT-Animation.json",speed:"fast",scrub:"onExit"}),ScrollTrigger.create({trigger:".wrapper",snap:1/15,duration:.3,ease:"power1.inOut"}),document.addEventListener("DOMContentLoaded",function(){gsap.registerPlugin(ScrollTrigger),gsap.utils.toArray(".reveal").forEach(function(e){hide(e),ScrollTrigger.create({trigger:e,onEnter:function(){animateFrom(e)},onEnterBack:function(){animateFrom(e,-1)},onLeave:function(){hide(e)}})})});var videos=document.getElementsByTagName("iframe"),fraction=.8,tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var player,firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);